<style>
    .button-custom {
        background-color: steelblue;
        border-radius: 5px;
        color: white;
    }
</style>


<br />
<div class="col-xs-12" style="padding-left:100px; padding-right:100px; padding-top: 30px; padding-bottom:30px; background-color:lightgray; border-radius:5px">
    <div class="row">
        <!--Product type-->
        <div class="col-sm-5">
            <div class="row">
                <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Тип на производ:</span>
            </div>
            <div class="row">
                <div>{{engWorkOrderModel.product.productType.name}}</div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <!--Product name-->
        <div class="col-sm-5">
            <div class="row">
                <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Име на производ:</span>
            </div>
            <div class="row">
                <div>{{engWorkOrderModel.product.name}}</div>
            </div>
        </div>
    </div>
    <div class="row">
        <!--Product size-->
        <div class="col-sm-3">
            <div class="row">
                <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Големина:</span>
            </div>
            <div class="row" style="margin-bottom:10px">
                <div>{{engWorkOrderModel.size}}</div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <!--Product quantity-->
        <div class="col-sm-3">
            <div class="row">
                <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Количина:</span>
            </div>
            <div class="row" style="margin-bottom:10px">
                <div>{{engWorkOrderModel.quantity}}</div>
            </div>
        </div>
        <div class="col-sm-1"></div>
        <!--Worker type-->
        <div class="col-sm-3">
            <div class="row">
                <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Класа на работник:</span>
            </div>
            <div class="row">
                <div>
                    {{engWorkOrderModel.workerType.name}}
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Завршна операција:</span>
    </div>
    <div class="row" style="margin-bottom:10px">
        <!--Production-->
        <div class="col-sm-6" style="padding:10px">
            <div class="row">
                <div class="col-sm-1"></div>
                <div class="col-sm-2" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[0].subPhase.name}}</span>
                </div>
                <div class="col-sm-2" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[1].subPhase.name}}</span>
                </div>
                <div class="col-sm-2" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[2].subPhase.name}}</span>
                </div>
                <div class="col-sm-2" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[3].subPhase.name}}</span>
                </div>
                <div class="col-sm-2" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[4].subPhase.name}}</span>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-1"></div>
                <div class="col-sm-2" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[0].isActive" ng-disabled="true" />
                </div>
                <div class="col-sm-2" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[1].isActive" ng-disabled="true" />
                </div>
                <div class="col-sm-2" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[2].isActive" ng-disabled="true" />
                </div>
                <div class="col-sm-2" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[3].isActive" ng-disabled="true" />
                </div>
                <div class="col-sm-2" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[4].isActive" ng-disabled="true" />
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4"></div>
                <div class="col-sm-5">
                    <span>П (производство)</span>
                </div>

            </div>
        </div>
        <!--Painting-->
        <div class="col-sm-2" style="padding:10px; margin-left:25px">
            <div class="row" style="padding-left:30px; padding-right:30px">

                <div class="col-sm-12" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[5].subPhase.name}}</span>
                </div>

            </div>
            <div class="row" style="padding-left:30px; padding-right:30px">

                <div class="col-sm-12" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[5].isActive" ng-disabled="true" />
                </div>
            </div>
            <div class="row" style="padding-left:5px; padding-right:5px">
                <div class="col-sm-12">
                    <span>Ф (фарбара)</span>
                </div>
            </div>
        </div>
        <!--Assembly-->
        <div class="col-sm-2" style="padding:10px; margin-left:25px">
            <div class="row" style="padding-left:10px">
                <div class="col-sm-5" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[6].subPhase.name}}</span>
                </div>
                <div class="col-sm-5" style="border:2px solid black; margin:1px">
                    <span>{{engWorkOrderModel.subPhasesStates[7].subPhase.name}}</span>
                </div>
            </div>
            <div class="row" style="padding-left:10px">
                <div class="col-sm-5" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[6].isActive" ng-disabled="true" />
                </div>
                <div class="col-sm-5" style="border:2px solid green; margin:1px">
                    <!--<input type="checkbox" />-->
                    <input type="checkbox" ng-model="engWorkOrderModel.subPhasesStates[7].isActive" ng-disabled="true" />
                </div>
            </div>
            <div class="row" style="padding-left:5px">
                <div class="col-sm-12">
                    <span>М (монтажа)</span>
                </div>
            </div>
        </div>
    </div>
    <!--WorkOrder number-->
    <div class="row">
        <span style="float: left; font-size: medium; font-weight: bold; margin-bottom: 5px; margin-top:5px">Број на налог:</span>
    </div>
    <div class="row" style="margin-bottom:10px">
        <div class="col-sm-6">
            <div style="margin-left:-15px">{{engWorkOrderModel.serialNumber}}</div>
        </div>
        <div class="col-sm-offset-5">
            <button class="btn button-custom" style="float:right; width:130px" ng-click="editWorkOrderEngineer(engWorkOrderModel)">Измени налог</button>
        </div>
    </div>
    <table ng-table="treeViewTable" class="table">
        <thead>
            <tr>
                <th></th>
                <th class="cell-40">
                    <div style=" font-size: 25px; font-weight: bold;">Дрво на производот: {{engWorkOrderModel.product.name}}</div>
                </th>
                <th class="cell-40">
                </th>
                <th class="cell-7">
                </th>
                <th class="cell-7 ">
                </th>
                <th class="cell-6 wrap-column">
                </th>
                <th class="cell-4 wrap-column">
                </th>
                <th class="action-column cell-1"></th>
            </tr>
        </thead>
        <tr ng-repeat-start="root in tree">
            <td>
                <!--<span class="red-number circled-number ">{{root.id}}</span>-->

            </td>
            <td colspan="2" style="word-wrap: break-word; cursor: pointer; width: 60%; max-width: 60%; vertical-align: middle;">

                <span style="font-weight: bold; font-size: 22px" class="hand" ng-click="root.$hideRows = !root.$hideRows">
                    <span> {{root.name}}</span>
                </span>
            </td>

            <td class="cell-nowrap hand"><span style="font-weight: bold; text-transform: uppercase;" ng-click="root.$hideRows = !root.$hideRows"></span></td>
            <td class="cell-nowrap hand"><span style="font-weight: bold; text-transform: uppercase;" ng-click="root.$hideRows = !root.$hideRows"></span></td>
            <td class="action-column  hand cell-right cell-nowrap">
                <span ng-if="root.workOrderTypes.length > 0"
                      ng-click="root.$hideRows = !root.$hideRows">
                    <i ng-if="root.$hideRows" class="fa fa-chevron-up" aria-hidden="true"></i>
                    <i ng-if="!root.$hideRows" class="fa fa-chevron-down" aria-hidden="true"></i>
                </span>
            </td>
            <td>
                <span>
                    <i class="fa fa-plus" ng-click="addCriteriaQuestion(criteria,question)" title="{{'GLOBAL_EDIT'}}"></i>
                    <i class="fa fa-pencil" ng-click="editCriteriaQuestion(criteria,question)" title="{{'GLOBAL_EDIT'}}"></i>
                    <i class="fa fa-trash-o" ng-click="deleteCriteriaQuestion(question)" title="{{'GLOBAL_DELETE'}}"></i>
                </span>
            </td>
        </tr>
        <tr ng-hide="!root.$hideRows" ng-repeat-start="child in root.workOrderTypes" class="td-align-target hand">
            <td></td>
            <td class="cell-60">
                <div style="">
                    <div style="float: left;  margin-bottom: -99999px;">

                    </div>
                    <div style="margin-left: 40px; font-size: 18px; cursor: pointer;" ng-click="child.$hideRows = !child.$hideRows">
                        {{child.name}}
                    </div>
                </div>
            </td>
            <td class="cell-4">
                <span ng-if="child.workOrderTypes.length > 0"
                      ng-click="child.$hideRows = !child.$hideRows">
                    <i ng-if="child.$hideRows" class="fa fa-chevron-up" aria-hidden="true"></i>
                    <i ng-if="!child.$hideRows" class="fa fa-chevron-down" aria-hidden="true"></i>
                </span>
                <!--<a class="action-btn" ng-context-menu="menuOptionsQuestion"><i class="las la-ellipsis-v"></i></a>-->

            </td>
            <td class="cell-10">
                <span>
                    <i class="fa fa-plus" ng-click="addCriteriaQuestion(criteria,question)" title="{{'GLOBAL_EDIT'}}"></i>
                    <i class="fa fa-pencil" ng-click="editCriteriaQuestion(criteria,question)" title="{{'GLOBAL_EDIT'}}"></i>
                    <i class="fa fa-trash-o" ng-click="deleteCriteriaQuestion(question)" title="{{'GLOBAL_DELETE'}}"></i>
                </span>
            </td>

        </tr>
        <tr ng-hide="!child.$hideRows" ng-repeat-end ng-repeat="grandChild in child.workOrderTypes" class="td-align-target hand">
            <td></td>
            <!--<td class="cell-42">
                <div style="">
                    <div style="float: left;  margin-bottom: -99999px;">

                    </div>-->
            <!--<div style="">
                {{answer.Id}}
            </div>-->
            <!--</div>
            </td>-->
            <td class="cell-7 cell-nowrap">
                <div style="margin-left: 100px; font-size: 16px" class="word-break">
                    {{grandChild.name}}
                </div>
            </td>
            <td class="cell-6"></td>
            <td class="cell-4"></td>
            <td class="action-column cell-right cell-nowrap">
                <!--<a class="action-btn" ng-context-menu="menuOptionsQuestion"><i class="las la-ellipsis-v"></i></a>-->
                <i class="fa fa-pencil" ng-click="editCriteriaQuestion(criteria,question)" title="{{'GLOBAL_EDIT'}}"></i>
                <i class="fa fa-trash-o" ng-click="deleteCriteriaQuestion(question)" title="{{'GLOBAL_DELETE'}}"></i>


            </td>

        </tr>
        <tr ng-repeat-end ng-if=0>
            <td>display: hidden</td>
        </tr>
    </table>
    <div class="p-0" ng-show="totalRows == 0">
        Не постојат корисници.
    </div>
</div>